---
import { assets } from "@kaplayjs/crew";
import { marked } from "marked";
import kaplaySubmodulePackageJson from "../../../kaplay/package.json";

interface Props {
    version: string;
    requireToBeEqualIn?: "major" | "minor" | "patch";
}

let { version, requireToBeEqualIn = "major" } = Astro.props;

const isVersion = () => {
    const [major, minor, patch] = kaplaySubmodulePackageJson.version.replace(/^(\d+\.\d+\.\d+).*/, "$1").split(".");
    const [checkMajor, checkMinor, checkPatch] = version.split(".");

    switch (requireToBeEqualIn) {
        case "major":
            return major === checkMajor;
        case "minor":
            return major === checkMajor && minor === checkMinor;
        case "patch":
            return patch === checkPatch && minor === checkMinor && patch === checkPatch;
    }
};
---

{isVersion() && <slot />}
