---
import doc from "@/data/generated/docs.json";
import DocEntry from "./DocEntry.astro";

const allDoc = doc.types as any;
const ctxDoc = allDoc.KaboomCtx?.[0].members ?? allDoc.KAPLAYCtx?.[0].members;
const docGroups = doc.groups;
const docEntries = Object.values(docGroups)
    .map((group) => group.entries)
    .flat();
---

{
    docEntries.map((entry) => {
        const referenceList: any[] = allDoc[entry as keyof typeof allDoc] ?? ctxDoc[entry as keyof typeof ctxDoc];

        return (
            <>
                {referenceList?.map((reference, i) => (
                    <DocEntry index={i} data={reference} />
                ))}

                <div class="divider" />
            </>
        );
    })
}
